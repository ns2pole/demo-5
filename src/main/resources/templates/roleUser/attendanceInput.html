<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns="http://www.w3.org/1999/html">
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link th:href="@{/css/global.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/roleUser/attendanceInput.css}" rel="stylesheet" type="text/css">
  </head>
  <body onload="showDate();">
    <header class="header">
      <nav class="global_nav">
        <ul>
          <li sec:authorize="hasRole('USER')"><a href="./attendanceInput" class="nav_item">勤怠入力</a></li>
          <li sec:authorize="hasRole('USER')"><a href="./workPlace" class="nav_item">勤務場所登録</a></li>
          <li sec:authorize="hasRole('USER')"><a href="./contactAddress" class="nav_item">連絡先登録</a></li>
          <li sec:authorize="hasRole('ADMIN')"><a href="./attendanceList" class="nav_item">勤怠状況一覧表示</a></li>
          <li>
            <form role="form" id="logout" th:action="@{/logout}" method="post" class="nav_item">
              <a onclick="submit()">ログアウト</a>
            </form>
          </li>
        </ul>
      </nav>
    </header>
    <div class="attendanceInput">
      <div class="taikin" th:if="${param.taikin}">
        退勤しました。
      </div>
      <div class="error" th:if="${param.error}" th:text = "${error}"></div>
      <p>こんにちは、<span sec:authentication="principal.username"></span>さん</p>
      <div sec:authorize="hasRole('ADMIN')">
        <p>今は<b>ADMIN</b>権限でログインしています5。</p> 
      </div>

      <div id="state" th:text = "${state}"></div>
      <div id="nowTime" ></div>
      <div class="attend-leave-buttons">
        <form action="/attendwork" method="get">
          <button id="attendwork">出勤</button>
        </form>
        <form action="/leavingwork" method="get">
          <button id="leavingwork">退勤</button>
        </form>
      </div>
      <div class="rest-buttons">
        <form action="/startrest" method="get">
          <button id="rest-start">休憩開始</button>
        </form>
        <form action="/endrest" method="get">
          <button id="rest-end">休憩終了</button>
        </form>
      </div>
    </div>
    <script type="text/javascript" th:src="@{/js/main.js}"></script>
    <script>
    </script>
  </body>
</html>